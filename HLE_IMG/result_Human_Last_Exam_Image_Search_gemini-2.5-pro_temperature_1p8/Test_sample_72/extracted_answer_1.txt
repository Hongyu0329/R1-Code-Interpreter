[2+2] cycloaddition and electrocyclic ring-opening