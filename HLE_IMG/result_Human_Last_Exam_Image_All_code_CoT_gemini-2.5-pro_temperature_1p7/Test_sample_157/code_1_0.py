import math

def calculate_power_losses():
    """
    Calculates the total power losses in the power system based on the principle of power balance.
    The total loss is the total active power generated minus the total active power consumed by loads.
    """

    # Step 1: Define system parameters from the problem description and diagram.
    
    # Generation parameters
    s_gen_per_unit = 100.0  # Apparent power per generator in MVA
    num_generators = 3
    power_factor = 0.9      # Lagging power factor for all components

    # Load parameters
    p_base_load_per_unit_numerator = 50.0
    p_base_load_per_unit_denominator = 3.0
    p_base_load_per_unit = p_base_load_per_unit_numerator / p_base_load_per_unit_denominator # MW
    num_base_loads = 3
    p_additional_load = 100.0 # Active additional load in MW

    # Step 2: Calculate the total active power generated by the system.
    # The system operates at 100% capacity.
    s_gen_total = s_gen_per_unit * num_generators
    p_gen_total = s_gen_total * power_factor

    print("--- Calculation of Total Generated Active Power ---")
    print(f"Total apparent power generated (S_gen) = {num_generators} units * {s_gen_per_unit} MVA/unit = {s_gen_total:.1f} MVA")
    print(f"Total active power generated (P_gen) = S_gen * Power Factor")
    print(f"P_gen = {s_gen_total:.1f} MVA * {power_factor} = {p_gen_total:.1f} MW")
    print("")

    # Step 3: Calculate the total active power consumed by the loads.
    p_base_load_total = p_base_load_per_unit * num_base_loads
    p_load_total = p_base_load_total + p_additional_load

    print("--- Calculation of Total Load Active Power ---")
    print(f"Total base load = {num_base_loads} loads * ({p_base_load_per_unit_numerator}/{p_base_load_per_unit_denominator}) MW/load = {p_base_load_total:.1f} MW")
    print(f"Additional load = {p_additional_load:.1f} MW")
    print(f"Total load active power (P_load) = {p_base_load_total:.1f} MW + {p_additional_load:.1f} MW = {p_load_total:.1f} MW")
    print("")

    # Step 4: Calculate the total resistive power loss in the system.
    # Power Loss = Power Generated - Power Loaded
    p_loss_total = p_gen_total - p_load_total

    print("--- Calculation of Total System Power Loss ---")
    print("The total power loss is the difference between generated power and consumed power.")
    print("P_loss = P_gen - P_load")
    print(f"P_loss = {p_gen_total:.1f} MW - {p_load_total:.1f} MW")
    
    # Final Answer
    print(f"\nThe total power losses in the system are: {p_loss_total:.3f} MW")

calculate_power_losses()
<<<120.000>>>