Yes, the theory as you've described it can fail. The presence of a birefringent medium, which is not accounted for in the inversion step, will prevent the recovery of the original input beam. The reversal procedure must use the inverse of the *entire* optical system, not just a single component of it.