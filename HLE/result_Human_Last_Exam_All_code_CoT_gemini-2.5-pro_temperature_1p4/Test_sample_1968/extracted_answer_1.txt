The existence of the described function is equivalent to kappa being a regular cardinal.