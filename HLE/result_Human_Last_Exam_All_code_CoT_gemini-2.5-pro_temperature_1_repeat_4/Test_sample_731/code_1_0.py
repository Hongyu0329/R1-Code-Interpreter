import math

def count_power_subgroups_in_semidihedral_512():
    """
    Calculates the number of power subgroups (cyclic subgroups)
    in the semidihedral group of size 512.
    """
    group_size = 512
    # For a semidihedral group SD_2^n, the size is 2^n.
    # 2^n = 512 => n = log2(512)
    n = int(math.log2(group_size))

    # 1. Cyclic subgroups contained within the main cyclic subgroup <r> of order 2^(n-1).
    # A cyclic group of order m has one subgroup for each divisor of m.
    # The order of <r> is 2^(n-1) = 2^8 = 256. The number of divisors of 2^k is k+1.
    # So, the number of subgroups of <r> is (n-1)+1 = n.
    num_subgroups_in_r = n

    # 2. Cyclic subgroups of order 2 generated by elements of the form s*r^i where i is even.
    # The number of such elements is 2^(n-2). Each generates a distinct subgroup.
    num_subgroups_order2_outside_r = 2**(n - 2)

    # 3. Cyclic subgroups of order 4 generated by elements of the form s*r^i where i is odd.
    # The number of such elements is 2^(n-2). Each subgroup of order 4 has phi(4)=2 generators.
    # So, the number of distinct subgroups is (2^(n-2)) / 2 = 2^(n-3).
    num_subgroups_order4_outside_r = 2**(n - 3)

    # The total number of power subgroups is the sum of these three types.
    total_subgroups = num_subgroups_in_r + num_subgroups_order2_outside_r + num_subgroups_order4_outside_r

    print("The semidihedral group of size 512 corresponds to n=9 in the SD_2^n family.")
    print("The total number of power (cyclic) subgroups is calculated by summing three distinct types of subgroups:")
    print(f"1. Subgroups within the cyclic part <r>: {num_subgroups_in_r}")
    print(f"2. Subgroups of order 2 from the non-cyclic part: {num_subgroups_order2_outside_r}")
    print(f"3. Subgroups of order 4 from the non-cyclic part: {num_subgroups_order4_outside_r}")
    print("\nThe final equation is:")
    print(f"{num_subgroups_in_r} + {num_subgroups_order2_outside_r} + {num_subgroups_order4_outside_r} = {total_subgroups}")


count_power_subgroups_in_semidihedral_512()