def calculate_displacement_field():
    """
    Calculates the total displacement field in a dual-gate FET.

    The total displacement field (D) is the linear superposition of the fields
    generated by the top gate and the back gate. It represents the total
    charge density induced in the transistor channel.

    The formula is: D = D_tg + D_bg = (Ctg * Vtg) + (Cbg * Vbg)
    """

    # --- User-definable variables with example values ---

    # Top gate voltage in Volts (V)
    Vtg = 1.2

    # Top gate capacitance per unit area in Farads per square meter (F/m^2)
    # Example: 1.5 fF/um^2 = 1.5e-15 F / (1e-6 m)^2 = 1.5e-3 F/m^2
    Ctg = 1.5e-3

    # Back gate voltage in Volts (V)
    Vbg = -0.5

    # Back gate capacitance per unit area in Farads per square meter (F/m^2)
    # Example: 0.8 fF/um^2 = 0.8e-15 F / (1e-6 m)^2 = 0.8e-3 F/m^2
    Cbg = 0.8e-3

    # Note: The dielectric constant of the transistor (epsilon_s) is not
    # needed for this calculation as the displacement field D is determined
    # by the free charges on the gates.

    # --- Calculation ---

    # Displacement field due to the top gate
    # Note: We consider the magnitude for the total effect.
    D_tg = Ctg * Vtg

    # Displacement field due to the back gate
    # Note: We consider the magnitude for the total effect.
    D_bg = Cbg * Vbg
    
    # Total displacement field is the sum of the individual contributions.
    # It represents the total induced charge density in the channel.
    D_total = D_tg + D_bg

    # --- Output ---

    print("The total displacement field (D) is the sum of the contributions from the top and back gates.")
    print("Formula: D = (Ctg * Vtg) + (Cbg * Vbg)\n")

    print("Substituting the given values:")
    # Print the full equation with the numbers plugged in
    print(f"D = ({Ctg:.2e} F/m^2 * {Vtg:.2f} V) + ({Cbg:.2e} F/m^2 * {Vbg:.2f} V)")
    
    # Print the intermediate results
    # The unit of (F/m^2 * V) is (C/V/m^2 * V) = C/m^2
    print(f"D = {D_tg:.2e} C/m^2 + ({D_bg:.2e} C/m^2)")

    # Print the final result
    print(f"\nTotal Displacement Field (D) = {D_total:.2e} C/m^2")

    # Final answer for the program to capture
    # print(f"<<<{D_total:.4e}>>>") # using 4 decimal places for precision

calculate_displacement_field()