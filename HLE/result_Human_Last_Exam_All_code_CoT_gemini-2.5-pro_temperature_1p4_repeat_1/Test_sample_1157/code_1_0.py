import textwrap

def print_section_header(title):
    """Prints a formatted section header."""
    print("\n" + "#" * 35)
    print(f"### {title.upper()} ###")
    print("#" * 35)

def print_wrapped(text, indent=0):
    """Prints text with wrapping and optional indentation."""
    prefix = " " * indent
    # A textwrapper to handle formatting of long lines
    wrapper = textwrap.TextWrapper(initial_indent=prefix, width=80, subsequent_indent=prefix)
    print(wrapper.fill(text))


# --- Main script execution ---

# Disclaimer
print_section_header("disclaimer")
print_wrapped("IMPORTANT: This analysis is for illustrative and educational purposes only. It is generated by an AI and is NOT a substitute for professional medical or dental advice. A qualified healthcare provider must be consulted for diagnosis and treatment planning.")

# Patient Data Summary
patient_data = {
    "HbA1c": 7.5,
    "delay_hours": 28,
    "SNB_angle": 88,
    "lost_teeth_universal": ["11", "12", "13"], # Using FDI notation #22, #23, #24 for left side
    "lost_teeth_names": "Left Lateral Incisor, Canine, and First Premolar"
}
print_section_header("Case Summary & Key Factors")
print_wrapped(f"1. Systemic Condition: Uncontrolled Diabetes Mellitus, indicated by a glycated hemoglobin (HbA1c) level of {patient_data['HbA1c']}%. This poses a high risk for infection and poor wound healing.")
print_wrapped(f"2. Acute Trauma: Loss of {patient_data['lost_teeth_names']}.")
print_wrapped(f"3. Delayed Treatment: A {patient_data['delay_hours']}-hour delay before receiving care significantly increases the risk of bacterial contamination of the wound.")
print_wrapped(f"4. Skeletal Profile: An SNB angle of {patient_data['SNB_angle']} degrees indicates a prognathic mandible (Skeletal Class III), which impacts the bite and prosthetic design.")

# Management Plan
print_section_header("Appropriate Management Procedures")

print("\n--- PHASE 1: URGENT CARE (First 24-48 Hours) ---")
print_wrapped("The primary goal is to manage the patient's systemic condition and prevent infection.", indent=2)
print_wrapped("1. Medical Referral: Immediate consultation with a physician to begin management of the uncontrolled diabetes.", indent=2)
print_wrapped("2. Wound Care: Gentle debridement and irrigation of the tooth sockets to remove debris and reduce bacterial load.", indent=2)
print_wrapped("3. Antibiotic Therapy: Prescription of broad-spectrum antibiotics is crucial due to high infection risk from the diabetes and the {delay_hours}-hour delay.".format(**patient_data), indent=2)
print_wrapped("4. Pain Management: Administration of appropriate analgesics.", indent=2)
print_wrapped("5. Provisional Planning: Take impressions for a temporary prosthesis to be made.", indent=2)

print("\n--- PHASE 2: STABILIZATION & HEALING ---")
print_wrapped("No definitive treatment should be done until systemic health is stable.", indent=2)
print_wrapped("1. Glycemic Control: Work with the physician to lower the HbA1c to a stable, acceptable level (ideally <7.0%).", indent=2)
print_wrapped("2. Provisional Prosthesis: Fit a temporary removable denture ('flipper') to restore aesthetics while the gums and bone heal.", indent=2)

print("\n--- PHASE 3: DEFINITIVE RESTORATION (Post-Stabilization) ---")
print_wrapped("1. Re-evaluation: Assess healing and confirm stable glycemic control.", indent=2)
print_wrapped("2. Discuss Options: Present long-term options, considering the benefits and risks of each in her specific case (e.g., implants vs. a fixed bridge vs. a removable denture).", indent=2)

# Cells of Interest
print_section_header("Cells of Interest")
print_wrapped("Given the patient's uncontrolled diabetes, the function of the following cells involved in healing is of primary concern:")
print_wrapped("- Neutrophils & Macrophages: Their ability to fight infection is impaired by high blood sugar.", indent=2)
print_wrapped("- Fibroblasts: Essential for creating new tissue. Their function and proliferation are reduced in hyperglycemic environments, leading to delayed healing.", indent=2)
print_wrapped("- Osteoblasts: Responsible for bone formation in the healing sockets. Their activity is inhibited by high blood sugar, potentially leading to poor bone fill.", indent=2)

# Denture Recommendation
print_section_header("Denture Replacement Details")
print_wrapped("If a removable denture is chosen, which is a very likely and sensible option:", indent=2)
print("\n- Recommended Denture Type: Removable Partial Denture (RPD) with a cast metal framework.")
print_wrapped("Material: Chrome-Cobalt alloy. It is strong, hygienic, rigid, and allows for a thin, less bulky design that provides superior support. This rigidity is crucial to stabilize the prosthesis against the forces of the Class III bite (related to the SNB of {SNB_angle}Â°).".format(**patient_data), indent=4)
print("\n- Abutment Teeth: The teeth adjacent to the gap.")
print_wrapped("Primary Abutments: Left Central Incisor and Left Second Premolar.", indent=4)
print_wrapped("Reasoning: These teeth provide the necessary support and retention for the denture. Rests (to support vertical forces) and clasps (for retention) would be placed on them. To ensure stability, the design must also include cross-arch stabilization, meaning rests and clasps will also be placed on teeth on the right side of the arch to counteract leveraging forces.", indent=4)

<<<Detailed analysis and management plan provided in the script.>>>