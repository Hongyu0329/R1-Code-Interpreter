The post-reset covariance Σ' is computed from the pre-reset covariance Σ using the expression:
Σ' = J_r(δ) * Σ * J_r(δ)^T
where δ is the attitude deviation vector that is being reset, and J_r(δ) is the Right Jacobian of SO(3), given by the exact formula:
J_r(δ) = I - ( (1 - cos(||δ||)) / ||δ||² ) * [δ]x + ( (||δ|| - sin(||δ||)) / ||δ||³ ) * [δ]x²
In this formula, ||δ|| is the magnitude of the vector δ, [δ]x is the skew-symmetric matrix of δ, and I is the identity matrix.