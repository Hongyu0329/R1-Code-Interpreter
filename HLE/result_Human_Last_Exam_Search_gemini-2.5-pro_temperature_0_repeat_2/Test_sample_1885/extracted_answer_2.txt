No, the existence of such a set and function is not necessary and is independent of ZFC.