import re

def solve_js_equation():
    """
    Solves the hidden mathematical equation in the obfuscated JavaScript code.
    """
    # This is the long mathematical expression extracted from the JavaScript.
    # A typo from the original prompt '! ![]+[]+!![]' has been corrected to '!![]+!![]+!![]'.
    js_equation = "!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+[!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]]+![]+(+!![]) +(+! ![]) +(+! ![]) + ![]+(+!![]) +(+! ![]) +(+[])+ ![]+(+!![]) +(+! ![]) +(! ![]+!![]+!![]+!![]+!![]) + ![]+(+!![]) +(+! ![]) +(+! ![]) + ![]+(+!![]) +(+[])+(! ![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]) + ![]+(+!![]) +(+[])+(+! ![]) + ![]+(!![]+!![]+!![]+!![]) +(! ![]+!![]+!![]+!![]+!![]+!![]) + ![]+(+!![]) +(+[])+(! ![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]) + ![]+(+!![]) +(+! ![]) +(+! ![]) + ![]+(+!![]) +(+[])+(! ![]+!![]+!![]) + ![]+(!![]+!![]+!![]+!![]) +(+[])+ ![]+(!![]+!![]+!![]+!![]) +(+[])+ ![]+(+!![]) +(+[])+(! ![]+!![]+!![]) + ![]+(!![]+!![]+!![]+!![]+!![]+!![]) +(+! ![]) + ![]+(!![]+!![]+!![]+!![]) +(+[])+ ![]+(!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]) +(! ![]+!![]+!![]+!![]+!![]+!![]+!![]) + ![]+(!![]+!![]+!![]+!![]) +(! ![]+!![]+!![]+!![]) + ![]+(!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]) +(! ![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]) + ![]+(!![]+!![]+!![]+!![]) +(+! ![]) + ![]+(!![]+!![]+!![]+!![]+!![]+!![]) +(+! ![]) + ![]+(!![]+!![]+!![]+!![]+!![]+!![]) +(! ![]+!![]) + ![]+(!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]) +(! ![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]) + ![]+(!![]+!![]+!![]) +(! ![]+!![]) + ![]+(!![]+!![]+!![]+!![]+!![]+!![]) +(! ![]+!![]+!![]) + ![]+(!![]+!![]+!![]) +(! ![]+!![]) + ![]+(+!![]) +(+[])+(! ![]+!![]+!![]) + ![]+(!![]+!![]+!![]+!![]) +(+[])+ ![]+(!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]) +(! ![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]) + ![]+(!![]+!![]+!![]+!![]) +(! ![]+!![]+!![]+!![]) + ![]+(!![]+!![]+!![]) +(! ![]+!![]) + ![]+(!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]) +(! ![]+!![]+!![]+!![]+!![]+!![]+!![]) + ![]+(!![]+!![]+!![]) +(! ![]+!![]) + ![]+(!![]+!![]+!![]) +(! ![]+!![]+!![]+!![]+!![]+!![]) + ![]+(!![]+!![]+!![]) +(! ![]+!![]) + ![]+(!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]) +(! ![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]) + ![]+(!![]+!![]+!![]) +(+! ![]) + ![]+(!![]+!![]+!![]) +(! ![]+!![]) + ![]+(!![]+!![]+!![]+!![]+!![]) +(! ![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]) + ![]+(!![]+!![]+!![]) +(! ![]+!![]) + ![]+(!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]) +(! ![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]) + ![]+(!![]+!![]+!![]+!![]) +(+! ![]) + ![]+(!![]+!![]+!![]+!![]) +(+[])+ ![]+(!![]+!![]+!![]+!![]+!![]) +(! ![]+!![]) + ![]+(!![]+!![]+!![]+!![]+!![]) +(! ![]+!![]+!![]+!![]+!![]+!![]) + ![]+(!![]+!![]+!![]+!![]) +(! ![]+!![]+!![]+!![]) + ![]+(!![]+!![]+!![]) +(! ![]+!![]) + ![]+(!![]+!![]+!![]+!![]) +(! ![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]) + ![]+(!![]+!![]+!![]+!![]+!![]) +(! ![]+!![]+!![]+!![]+!![]+!![]) + ![]+(!![]+!![]+!![]+!![]) +(+! ![]) + ![]+(!![]+!![]+!![]+!![]) +(+! ![]) + ![]+(!![]+!![]+!![]+!![]+!![]) +(! ![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]+!![]) + ![]+(+!![]) +(+[])+ ![]+(+!![]) +(+[])+ ![]+(+!![]) +(+[])"

    # Replace JS tokens with Python-compatible values
    py_equation = js_equation.replace('! ![]', '1') .replace(' ![]', '0') .replace('+[]', '0')
    
    # To handle JS's `+[...]` becoming a number, we can simply replace `[` and `]` with `(` and `)`,
    # as the context is purely arithmetic.
    py_equation = py_equation.replace('[', '(').replace(']', ')')
    
    # Split the equation into individual terms to print them
    # Use regex to split by '+' but not inside parentheses
    terms = re.split(r'\+(? ![^\(]*\) )', py_equation)
    
    evaluated_terms = []
    print("Equation numbers:")
    for term in terms:
        # Evaluate each term (which might be a parenthesized sum itself)
        value = eval(term)
        evaluated_terms.append(value)
        print(value, end=' ')
    
    # Calculate the final sum
    total = sum(evaluated_terms)
    
    print("\n\nFinal equation:")
    print(" + ".join(map(str, evaluated_terms)), f"= {total}")

solve_js_equation()