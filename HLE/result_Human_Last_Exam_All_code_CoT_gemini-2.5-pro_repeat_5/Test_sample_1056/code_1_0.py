import numpy as np

def compute_abelianization_properties():
    """
    This function computes the rank and torsion order for the abelianization of the group G.

    The method is based on the known result that Ab(G) is isomorphic to the image
    of the slope homomorphism lambda(f) = (log_tau(f'(0)), log_tau(f'(1))).
    The image is a lattice in Z^2 generated by the images of the generators of G.
    """

    # Step 1: Define the images of the generators of G under the slope map.
    # By analogy with Thompson's group F, the generator g_0 is constructed from
    # interval partitions derived from the golden ratio tau.
    # Domain partition lengths: (tau, tau^3, tau^4)
    # Range partition lengths: (tau^2, tau^3, tau^2)
    #
    # The slope of g_0 at 0 is the ratio of the first interval lengths: tau^2 / tau = tau^1.
    # The slope of g_0 at 1 is the ratio of the last interval lengths: tau^2 / tau^4 = tau^(-2).
    #
    # Taking log_tau gives the coordinates of the vector lambda(g_0).
    lambda_g0 = (1, -2)

    # The generator g_1 is defined by symmetry, g_1(x) = 1 - g_0(1-x).
    # Its lambda image has swapped coordinates from g_0.
    lambda_g1 = (-2, 1)

    print(f"The abelianization Ab(G) is isomorphic to the lattice in Z^2 generated by the vectors:")
    print(f"v0 = lambda(g_0) = {lambda_g0}")
    print(f"v1 = lambda(g_1) = {lambda_g1}")
    print("-" * 20)

    # Step 2: Compute the rank 'r' of Ab(G).
    # The rank of Ab(G) is the rank of the lattice, which is the rank of the
    # matrix formed by the generator vectors.
    M = np.array([lambda_g0, lambda_g1])
    r = np.linalg.matrix_rank(M)

    print("The rank 'r' of Ab(G) is the rank of the matrix M:")
    print(M)
    print(f"The final equation for the rank is: r = {r}")
    print("-" * 20)


    # Step 3: Compute the order 't' of the torsion subgroup of Ab(G).
    # The lattice generated by v0 and v1 is a subgroup of Z^2. Any subgroup of a
    # free abelian group (like Z^2) is also free abelian.
    # A free abelian group has a trivial torsion subgroup {0}. The order of this group is 1.
    t = 1
    print("The torsion subgroup of Ab(G) is isomorphic to the torsion subgroup of the lattice.")
    print("Since the lattice is a subgroup of Z^2, it is free abelian and has a trivial torsion subgroup.")
    print(f"The final equation for the torsion order is: t = {t}")
    print("-" * 20)

    # Step 4: Output the final pair (r, t).
    print(f"The computed pair is (r, t) = ({r}, {t})")

compute_abelianization_properties()