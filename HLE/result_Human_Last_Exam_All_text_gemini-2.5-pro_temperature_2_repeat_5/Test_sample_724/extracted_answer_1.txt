Let k be the integer in $\{1, 2, ..., n\}$ such that $\sum_{i=1}^{k-1} \frac{100}{2n-2i+1} < m \le \sum_{i=1}^{k} \frac{100}{2n-2i+1}$, where the sum from i=1 to 0 is 0. The maximum water left is $100(n-k+1) - (2n-2k+1) \left( m - \sum_{i=1}^{k-1} \frac{100}{2n-2i+1} \right)$.